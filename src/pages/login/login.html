<!--
  Generated template for the LoginPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title text-center>A.T.</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <ion-grid>
    <ion-row padding>
      <ion-col col-12 col-sm-12 col-md-12 offset-lg-3 col-lg-6 offset-xl-3 col-xl-6>
        <!--button ion-button button-clear clear (click)="onEvent('onSkip')">{{data.skip}}</button-->
        <!---Logo-->
        <ion-thumbnail>
          <img src="../assets/icon/login.png"/>
        </ion-thumbnail>
        <form [formGroup] = "loginForm" (ngSubmit)="login()" [hidden]="isSignUp">
          <ion-item no-padding color="accent">
            <ion-label color="secondary" fixed>Email</ion-label>
            <ion-input required type="email" formControlName="email">Email</ion-input>
          </ion-item>

          <div class="validation-errors">
            <ng-container *ngFor="let validation of validation_messages.email" >
              <div class="error-message" *ngIf="loginForm.get('email').hasError(validation.type) && (loginForm.get('email').dirty || loginForm.get('email').touched)">
                {{validation.message}}
              </div>
            </ng-container>
          </div>

          <ion-item no-padding color="accent">
            <ion-label color="secondary" fixed>Password</ion-label>
            <ion-input required type="password" formControlName="password"></ion-input>
          </ion-item>

          <div class="validation-errors">
            <ng-container *ngFor="let validation of validation_messages.password" >
              <div class="error-message" *ngIf="loginForm.get('password').hasError(validation.type) && (loginForm.get('password').dirty || loginForm.get('password').touched)">
                {{validation.message}}
              </div>
            </ng-container>
          </div>

          <div>
            <button ion-button float-right default-button type="submit" [disabled]="!loginForm.valid">Login</button>
          </div>
        </form>


        <form [formGroup] = "signupForm" (ngSubmit)="signup()" [hidden]="!isSignUp">
          <ion-item no-padding no-margin color="accent">
            <ion-label no-padding no-margin color="secondary" fixed>Email</ion-label>
            <ion-input required type="email" formControlName="email">Email</ion-input>
          </ion-item>

          <div class="validation-errors">
            <ng-container *ngFor="let validation of validation_messages.email" >
              <div class="error-message" *ngIf="loginForm.get('email').hasError(validation.type) && (loginForm.get('email').dirty || loginForm.get('email').touched)">
                {{validation.message}}
              </div>
            </ng-container>
          </div>

          <ion-item no-padding no-margin color="accent">
            <ion-label color="secondary" fixed>Password</ion-label>
            <ion-input required type="password" formControlName="password"></ion-input>
          </ion-item>

          <div class="validation-errors">
            <ng-container *ngFor="let validation of validation_messages.password" >
              <div class="error-message" *ngIf="loginForm.get('password').hasError(validation.type) && (loginForm.get('password').dirty || loginForm.get('password').touched)">
                {{validation.message}}
              </div>
            </ng-container>
          </div>

          <div>
            <button ion-button float-right default-button type="submit" [disabled]="!signupForm.valid">Submit</button>
          </div>
        </form>

          <button ion-button float-right button-clear-outline (click)="onClick('signup')" [hidden]="isSignUp">Sign Up</button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
